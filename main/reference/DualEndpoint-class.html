<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="
DualEndpoint is the general class for the dual endpoint model."><title>DualEndpoint — DualEndpoint-class • crmPack</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="DualEndpoint — DualEndpoint-class"><meta property="og:description" content="
DualEndpoint is the general class for the dual endpoint model."><meta property="og:image" content="https://roche.github.io/crmPack/main/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">crmPack</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.9000.9132</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/migration_from_the_old_crmPack.html">Migrating from crmPack version 1.0.3</a>
    <a class="dropdown-item" href="../articles/rolling-crm.html">Rolling CRM Example</a>
    <a class="dropdown-item" href="../articles/simulations.html">Simulation study example</a>
    <a class="dropdown-item" href="../articles/trial_analysis.html">Trial Analysis</a>
    <a class="dropdown-item" href="../articles/trial_definition.html">Trial Definition</a>
    <a class="dropdown-item" href="../articles/trial_simulation.html">Trial Simulation</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<!-- start dropdown for versions --> <li class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle"
          data-bs-toggle="dropdown" role="button"
          aria-expanded="false" aria-haspopup="true"
          id="dropdown-versions">Versions</a> <div class="dropdown-menu" aria-labelledby="dropdown-versions"> <a class="dropdown-item" data-toggle="tooltip" title="" href="https://Roche.github.io/crmPack/main">main</a> </div></li>
<!-- end dropdown for versions -->
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/roche/crmPack">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1><code>DualEndpoint</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/roche/crmPack/blob/HEAD/R/Model-class.R" class="external-link"><code>R/Model-class.R</code></a></small>
      <div class="d-none name"><code>DualEndpoint-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p><code>DualEndpoint</code> is the general class for the dual endpoint model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">DualEndpoint</span><span class="op">(</span><span class="va">mean</span>, <span class="va">cov</span>, ref_dose <span class="op">=</span> <span class="fl">1</span>, use_log_dose <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">sigma2W</span>, <span class="va">rho</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>mean</dt>
<dd><p>(<code>numeric</code>)<br> for the probit toxicity model, the prior mean vector.</p></dd>


<dt>cov</dt>
<dd><p>(<code>matrix</code>)<br> for the probit toxicity model, the prior covariance
matrix. The precision matrix is internally calculated as an inverse of <code>cov</code>.</p></dd>


<dt>ref_dose</dt>
<dd><p>(<code>number</code>)<br> for the probit toxicity model, the reference
dose \(x*\) (strictly positive number).</p></dd>


<dt>use_log_dose</dt>
<dd><p>(<code>flag</code>)<br> for the probit toxicity model, whether a log
transformation of the (standardized) dose should be used?</p></dd>


<dt>sigma2W</dt>
<dd><p>(<code>numeric</code>)<br> the biomarker variance. Either a fixed value or
Inverse-Gamma distribution parameters, i.e. vector with two elements named
<code>a</code> and <code>b</code>.</p></dd>


<dt>rho</dt>
<dd><p>(<code>numeric</code>)<br> either a fixed value for the correlation
(between <code>-1</code> and <code>1</code>), or a named vector with two elements named <code>a</code> and <code>b</code>
for the Beta prior on the transformation <code>kappa = (rho + 1) / 2</code>, which is
in <code>(0, 1)</code>. For example, <code>a = 1, b = 1</code> leads to a uniform prior on <code>rho</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The idea of the dual-endpoint models is to model not only the
dose-toxicity relationship, but also to model, at the same time, the
relationship of a PD biomarker with the dose. The sub-classes of this class
define how the dose-biomarker relationship is parametrized. This class here
shall contain all the common features to reduce duplicate code.
(This class however, must not be virtual as we need to create objects
of it during the construction of subclass objects.)</p>
<p>The dose-toxicity relationship is modeled with probit regression model
$$probit[p(x)] = betaZ1 + betaZ2 * x/x*,$$
or
$$probit[p(x)] = betaZ1 + betaZ2 * log(x/x*),$$
in case when the option <code>use_log_dose</code> is <code>TRUE</code>.
Here, \(p(x)\) is the probability of observing a DLT for a given
dose \(x\) and \(x*\) is the reference dose.
The prior $$(betaZ1, log(betaZ2)) ~ Normal(mean, cov).$$</p>
<p>For the biomarker response \(w\) at a dose \(x\), we assume
$$w(x) ~ Normal(f(x), sigma2W),$$
where \(f(x)\) is a function of the dose \(x\), which is further
specified in sub-classes. The biomarker variance \(sigma2W\) can be fixed
or assigned an Inverse-Gamma prior distribution; see the details below under
slot <code>sigma2W</code>.</p>
<p>Finally, the two endpoints \(y\) (the binary DLT variable) and \(w\)
(the biomarker) can be correlated, by assuming a correlation of level
\(rho\) between the underlying continuous latent toxicity variable \(z\)
and the biomarker \(w\). Again, this correlation can be fixed or assigned
a prior distribution from the scaled Beta family; see the details below
under slot <code>rho</code>.</p>
<p>Please see the example vignette by typing <code><a href="crmPackExample.html">crmPackExample()</a></code> for a full example.</p>
    </div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a></h2>
    

<dl><dt><code>betaZ_params</code></dt>
<dd><p>(<code>ModelParamsNormal</code>)<br> for the probit toxicity model, it
contains the prior mean, covariance matrix and precision matrix which is
internally calculated as an inverse of the covariance matrix.</p></dd>


<dt><code>ref_dose</code></dt>
<dd><p>(<code>positive_number</code>)<br> for the probit toxicity model, the
reference dose.</p></dd>


<dt><code>use_log_dose</code></dt>
<dd><p>(<code>flag</code>)<br> for the probit toxicity model, whether a log
transformation of the (standardized) dose should be used?</p></dd>


<dt><code>sigma2W</code></dt>
<dd><p>(<code>numeric</code>)<br> the biomarker variance. Either a fixed value or
Inverse-Gamma distribution parameters, i.e. vector with two elements named
<code>a</code> and <code>b</code>.</p></dd>


<dt><code>rho</code></dt>
<dd><p>(<code>numeric</code>)<br> either a fixed value for the correlation
(between <code>-1</code> and <code>1</code>), or a named vector with two elements named <code>a</code> and <code>b</code>
for the Beta prior on the transformation <code>kappa = (rho + 1) / 2</code>, which is
in <code>(0, 1)</code>. For example, <code>a = 1, b = 1</code> leads to a uniform prior on <code>rho</code>.</p></dd>


<dt><code>use_fixed</code></dt>
<dd><p>(<code>logical</code>)<br> indicates whether a fixed value for <code>sigma2W</code>
or <code>rho</code> (for each parameter separately) is used or not. This slot is
needed for internal purposes and must not be touched by the user.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="DualEndpointRW-class.html">DualEndpointRW</a></code>, <code><a href="DualEndpointBeta-class.html">DualEndpointBeta</a></code>, <code><a href="DualEndpointEmax-class.html">DualEndpointEmax</a></code>.</p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Daniel Sabanes Bove, Wai Yin Yeung, Burak Kuersad Guenhan, Giuseppe Palermo, Thomas Jaki, Jiawen Zhu, Ziwei Liao, Dimitris Kontos.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

