<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Graphical display of the simulation summary"><title>Plot summaries of the pseudo simulations — plot,PseudoSimulationsSummary,missing-method • crmPack</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot summaries of the pseudo simulations — plot,PseudoSimulationsSummary,missing-method"><meta property="og:description" content="Graphical display of the simulation summary"><meta property="og:image" content="https://roche.github.io/crmPack/main/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">crmPack</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.9000.9119</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/migration_from_the_old_crmPack.html">Migrating from crmPack version 1.0.3</a>
    <a class="dropdown-item" href="../articles/rolling-crm.html">Rolling CRM Example</a>
    <a class="dropdown-item" href="../articles/simulations.html">Simulation study example</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/roche/crmPack">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot summaries of the pseudo simulations</h1>
      <small class="dont-index">Source: <a href="https://github.com/roche/crmPack/blob/HEAD/R/Simulations-methods.R" class="external-link"><code>R/Simulations-methods.R</code></a></small>
      <div class="d-none name"><code>plot-PseudoSimulationsSummary-missing-method.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Graphical display of the simulation summary</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for PseudoSimulationsSummary,missing</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nObs"</span>, <span class="st">"doseSelected"</span>, <span class="st">"propDLE"</span>, <span class="st">"nAboveTargetEndOfTrial"</span>, <span class="st">"meanFit"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>the <code><a href="PseudoSimulationsSummary-class.html">PseudoSimulationsSummary</a></code> object we want
to plot from</p></dd>


<dt>y</dt>
<dd><p>missing</p></dd>


<dt>type</dt>
<dd><p>the types of plots you want to obtain.</p></dd>


<dt>...</dt>
<dd><p>not used</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A single <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></code> object if a single plot is
asked for, otherwise a <code>gridExtra{gTree}</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This plot method can be applied to <code><a href="PseudoSimulationsSummary-class.html">PseudoSimulationsSummary</a></code>
objects in order to summarize them graphically. This can be used when only DLE responses are involved
in the simulations. This also applied to results with or without samples generated during the simulations</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># nolint start</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##obtain the plot for the simulation results</span></span></span>
<span class="r-in"><span><span class="co">##If only DLE responses are considered in the simulations</span></span></span>
<span class="r-in"><span><span class="co">##Specified your simulations when no DLE samples are used</span></span></span>
<span class="r-in"><span><span class="co">##Define your data set first using an empty data set</span></span></span>
<span class="r-in"><span><span class="co">## with dose levels from 25 to 300 with increments 25</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="Data-class.html">Data</a></span><span class="op">(</span>doseGrid<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">25</span>,<span class="fl">300</span>,<span class="fl">25</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##Specified the model of 'ModelTox' class eg 'LogisticIndepBeta' class model</span></span></span>
<span class="r-in"><span><span class="va">model</span><span class="op">&lt;-</span><span class="fu"><a href="LogisticIndepBeta-class.html">LogisticIndepBeta</a></span><span class="op">(</span>binDLE<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.05</span>,<span class="fl">1.8</span><span class="op">)</span>,DLEweights<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span>,DLEdose<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>,<span class="fl">300</span><span class="op">)</span>,data<span class="op">=</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##Then the escalation rule</span></span></span>
<span class="r-in"><span><span class="va">tdNextBest</span> <span class="op">&lt;-</span> <span class="fu"><a href="NextBestTD-class.html">NextBestTD</a></span><span class="op">(</span>prob_target_drt<span class="op">=</span><span class="fl">0.35</span>,</span></span>
<span class="r-in"><span>                         prob_target_eot<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The cohort size, size of 3 subjects</span></span></span>
<span class="r-in"><span><span class="va">mySize</span> <span class="op">&lt;-</span><span class="fu"><a href="CohortSizeConst-class.html">CohortSizeConst</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##Deifne the increments for the dose-escalation process</span></span></span>
<span class="r-in"><span><span class="co">##The maximum increase of 200% for doses up to the maximum of the dose specified in the doseGrid</span></span></span>
<span class="r-in"><span><span class="co">##The maximum increase of 200% for dose above the maximum of the dose specified in the doseGrid</span></span></span>
<span class="r-in"><span><span class="co">##This is to specified a maximum of 3-fold restriction in dose-esclation</span></span></span>
<span class="r-in"><span><span class="va">myIncrements</span><span class="op">&lt;-</span><span class="fu"><a href="IncrementsRelative-class.html">IncrementsRelative</a></span><span class="op">(</span>intervals<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">data</span><span class="op">@</span><span class="va">doseGrid</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">data</span><span class="op">@</span><span class="va">doseGrid</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                 increments<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##Specified the stopping rule e.g stop when the maximum sample size of 12 patients has been reached</span></span></span>
<span class="r-in"><span><span class="va">myStopping</span> <span class="op">&lt;-</span> <span class="fu"><a href="StoppingMinPatients-class.html">StoppingMinPatients</a></span><span class="op">(</span>nPatients<span class="op">=</span><span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##Now specified the design with all the above information and starting with a dose of 25</span></span></span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="TDDesign.html">TDDesign</a></span><span class="op">(</span>model<span class="op">=</span><span class="va">model</span>,</span></span>
<span class="r-in"><span>                   nextBest<span class="op">=</span><span class="va">tdNextBest</span>,</span></span>
<span class="r-in"><span>                   stopping<span class="op">=</span><span class="va">myStopping</span>,</span></span>
<span class="r-in"><span>                   increments<span class="op">=</span><span class="va">myIncrements</span>,</span></span>
<span class="r-in"><span>                   cohortSize<span class="op">=</span><span class="va">mySize</span>,</span></span>
<span class="r-in"><span>                  data<span class="op">=</span><span class="va">data</span>,startingDose<span class="op">=</span><span class="fl">25</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##Specify the truth of the DLE responses</span></span></span>
<span class="r-in"><span><span class="va">myTruth</span> <span class="op">&lt;-</span> <span class="fu"><a href="probFunction.html">probFunction</a></span><span class="op">(</span><span class="va">model</span>, phi1 <span class="op">=</span> <span class="op">-</span><span class="fl">53.66584</span>, phi2 <span class="op">=</span> <span class="fl">10.50499</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Then specified the simulations and generate the trial</span></span></span>
<span class="r-in"><span><span class="co">##For illustration purpose only 1 simulation is produced (nsim=1).</span></span></span>
<span class="r-in"><span><span class="co">##The simulations</span></span></span>
<span class="r-in"><span><span class="va">mySim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate</a></span><span class="op">(</span><span class="va">design</span>,</span></span>
<span class="r-in"><span>                  args<span class="op">=</span><span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>                  truth<span class="op">=</span><span class="va">myTruth</span>,</span></span>
<span class="r-in"><span>                  nsim<span class="op">=</span><span class="fl">1</span>,</span></span>
<span class="r-in"><span>                  seed<span class="op">=</span><span class="fl">819</span>,</span></span>
<span class="r-in"><span>                  parallel<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##Then produce a summary of your simulations</span></span></span>
<span class="r-in"><span><span class="va">MYSUM</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mySim</span>,</span></span>
<span class="r-in"><span>                 truth<span class="op">=</span><span class="va">myTruth</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##plot the summary of the simulations</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">MYSUM</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot-PseudoSimulationsSummary-missing-method-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##If DLE samples are involved</span></span></span>
<span class="r-in"><span><span class="co">##The escalation rule</span></span></span>
<span class="r-in"><span><span class="va">tdNextBest</span> <span class="op">&lt;-</span> <span class="fu"><a href="NextBestTDsamples-class.html">NextBestTDsamples</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  prob_target_drt <span class="op">=</span> <span class="fl">0.35</span>,</span></span>
<span class="r-in"><span>  prob_target_eot <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  derive <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">samples</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">samples</span>, probs <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##specify the design</span></span></span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="TDsamplesDesign.html">TDsamplesDesign</a></span><span class="op">(</span>model<span class="op">=</span><span class="va">model</span>,</span></span>
<span class="r-in"><span>                          nextBest<span class="op">=</span><span class="va">tdNextBest</span>,</span></span>
<span class="r-in"><span>                          stopping<span class="op">=</span><span class="va">myStopping</span>,</span></span>
<span class="r-in"><span>                          increments<span class="op">=</span><span class="va">myIncrements</span>,</span></span>
<span class="r-in"><span>                          cohortSize<span class="op">=</span><span class="va">mySize</span>,</span></span>
<span class="r-in"><span>                          data<span class="op">=</span><span class="va">data</span>,startingDose<span class="op">=</span><span class="fl">25</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##options for MCMC</span></span></span>
<span class="r-in"><span><span class="va">options</span><span class="op">&lt;-</span><span class="fu"><a href="McmcOptions-class.html">McmcOptions</a></span><span class="op">(</span>burnin<span class="op">=</span><span class="fl">100</span>,step<span class="op">=</span><span class="fl">2</span>,samples<span class="op">=</span><span class="fl">200</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##The simulations</span></span></span>
<span class="r-in"><span><span class="co">##For illustration purpose only 1 simulation is produced (nsim=1).</span></span></span>
<span class="r-in"><span><span class="co"># mySim &lt;- simulate(design,</span></span></span>
<span class="r-in"><span><span class="co">#                   args=NULL,</span></span></span>
<span class="r-in"><span><span class="co">#                   truth=myTruth,</span></span></span>
<span class="r-in"><span><span class="co">#                   nsim=1,</span></span></span>
<span class="r-in"><span><span class="co">#                   seed=819,</span></span></span>
<span class="r-in"><span><span class="co">#                   mcmcOptions=options,</span></span></span>
<span class="r-in"><span><span class="co">#                   parallel=FALSE)</span></span></span>
<span class="r-in"><span><span class="co"># ##Then produce a summary of your simulations</span></span></span>
<span class="r-in"><span><span class="co"># MYSUM &lt;- summary(mySim,</span></span></span>
<span class="r-in"><span><span class="co">#                  truth=myTruth)</span></span></span>
<span class="r-in"><span><span class="co"># ##plot the summary of the simulations</span></span></span>
<span class="r-in"><span><span class="co"># print(plot(MYSUM))</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># nolint end</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Daniel Sabanes Bove, Wai Yin Yeung, Burak Kuersad Guenhan, Giuseppe Palermo, Thomas Jaki, Jiawen Zhu, Ziwei Liao, Dimitris Kontos.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

